---

---
*è®°å½•æ—¶é—´ï¼š2025å¹´4æœˆ16æ—¥*

---
## 1.socket() å¥—æ¥å­—
socket()ä¼šè¿”å›ä¸€ä¸ªç”¨äºåç»­æ“ä½œçš„æ–‡ä»¶æè¿°ç¬¦(socket FD)
`int socket(int domain,int type,int protocol);`
- domainï¼šåœ°å€æ—ï¼Œä¸€èˆ¬ä½¿ç”¨ AF_INETï¼ˆIPv4ï¼‰æˆ– AF_INET6ï¼ˆIPv6ï¼‰ã€‚
    
- typeï¼šå¥—æ¥å­—ç±»å‹ï¼ŒTCP ä½¿ç”¨ SOCK_STREAMã€‚
    
- protocolï¼šåè®®ï¼ŒTCP é€šå¸¸ä¸º 0ï¼ˆç”±ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©åè®®ï¼‰ã€‚
## 2.bind()
ç”¨äºæŠŠå¥—æ¥å­—ä¸æœ¬åœ° IP åœ°å€å’Œç«¯å£å·ç»‘å®š
`int bind(int sockfd,const struct sockaddr *addr,socklen_t addrlen);`
- sockfdï¼šç”± socket() åˆ›å»ºçš„å¥—æ¥å­—ã€‚
    
- addrï¼šè¦ç»‘å®šçš„åœ°å€ç»“æ„ä½“ï¼ˆå¦‚ sockaddr_inï¼‰ã€‚
    
- addrlenï¼šåœ°å€ç»“æ„ä½“çš„å¤§å°
## 3. listen() --ä»…æœåŠ¡å™¨ç”¨ 
å°†ä¸»åŠ¨å¥—æ¥å­—è½¬åŒ–ä¸ºè¢«åŠ¨ç›‘å¬çŠ¶æ€ ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥
`int listen(int sockfd,int backlog`
- sockfdï¼šè¢«ç»‘å®šçš„å¥—æ¥å­—ã€‚
- backlogï¼šè¿æ¥è¯·æ±‚é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚
listen(sockfd, 5); // æœ€å¤šæ’é˜Ÿ 5 ä¸ªè¿æ¥è¯·æ±‚
## 4.accept() æ¥å—å®¢æˆ·ç«¯è¿æ¥(ä»…æœåŠ¡å™¨ç”¨)
ä»è¿æ¥è¯·æ±‚ä¸­å–å‡ºä¸€ä¸ªè¿æ¥ å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å¥—æ¥å­—ç”¨äºé€šä¿¡
`int accept(int sockfd,struct sockaddr *addr,socklen_t *addrlen`
- sockfdï¼šç›‘å¬å¥—æ¥å­—ï¼ˆç”± listen() ç”Ÿæˆï¼‰ã€‚
    
- addrï¼šç”¨äºå­˜å‚¨å®¢æˆ·ç«¯çš„åœ°å€ä¿¡æ¯ã€‚
    
- addrlenï¼šåœ°å€ç»“æ„ä½“å¤§å°ï¼Œè¾“å…¥è¾“å‡ºå‚æ•°ã€‚
## 5.connect()-å‘èµ·è¿æ¥(ä»…å®¢æˆ·ç«¯ç”¨)
å®¢æˆ·ç«¯é€šè¿‡è¯¥å‡½æ•°å‘æœåŠ¡å™¨å‘èµ·è¿æ¥è¯·æ±‚
`int connect(int sockfd,const struct sockaddr *addr,socklen_t addrlen`
- sockfdï¼šå®¢æˆ·ç«¯å¥—æ¥å­—ã€‚
    
- addrï¼šæœåŠ¡å™¨çš„åœ°å€ä¿¡æ¯ç»“æ„ä½“ã€‚
    
- addrlenï¼šåœ°å€ç»“æ„ä½“å¤§å°ã€‚
## 6.send() å‘é€æ•°æ®(TCP)
å‘å·²ç»è¿æ¥çš„å¥—æ¥å­—å‘é€æ•°æ®
`ssize_t send(int sockfd,const void *buf,size_t len,int flags`
- sockfdï¼šå·²è¿æ¥çš„å¥—æ¥å­—ã€‚
    
- bufï¼šæ•°æ®ç¼“å†²åŒºã€‚
    
- lenï¼šå‘é€çš„æ•°æ®é•¿åº¦ã€‚
    
- flagsï¼šå‘é€é€‰é¡¹ï¼Œé€šå¸¸ä¸º 0ã€‚
## 7.recv() æ¥æ”¶æ•°æ®(TCP)
æ¥æ”¶æ¥è‡ªå¥—æ¥å­—çš„æ•°æ®
`ssize_t recv(int sockfd, void *buf, size_t len, int flags);`
- sockfdï¼šå·²è¿æ¥çš„å¥—æ¥å­—ã€‚
    
- bufï¼šç”¨äºæ¥æ”¶æ•°æ®çš„ç¼“å†²åŒºã€‚
    
- lenï¼šæœ€å¤§æ¥æ”¶é•¿åº¦ã€‚
    
- flagsï¼šæ¥æ”¶é€‰é¡¹ï¼Œé€šå¸¸ä¸º 0ã€‚
## 8.close() å…³é—­å¥—æ¥å­—
å…³é—­å¥—æ¥å­— é‡Šæ”¾èµ„æº
`int close(int sockfd);`
sockfd:è¦å…³é—­çš„å¥—æ¥å­—æè¿°ç¬¦

## **ğŸ” æ€»ç»“ï¼šå…¸å‹çš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æµç¨‹**

  

### **ğŸŒ å®¢æˆ·ç«¯ï¼š**

```
socket() â†’ connect() â†’ send()/recv() â†’ close()
```

### **ğŸ–¥ï¸ æœåŠ¡å™¨ç«¯ï¼š**

```
socket() â†’ bind() â†’ listen() â†’ accept() â†’ send()/recv() â†’ close()
```

